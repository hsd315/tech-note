# 资源

http://www.biosino.org/R/R-doc/



# 随记

- 当某个元素或者数值从统计角度讲是"不可用"(not avaliable)或者"缺失值"(missing value)时,它们在向量中的位置将被保留,同时被赋值为一个特殊的值`NA`.一般来讲一个NA的任何操作都将返回NA.
- 函数`is.na(v)`返回一个逻辑向量,这个向量与v有相同的长度,并且由相应位置的元素是否是NA来决定这个逻辑向量相应位置的元素是`TRUE`还是`FALSE`
- NaN(Not a Number),是一种"缺失"值,是由数值运算产生的.
- 函数`is.na(v)`对于`NA`和`NaN`值都返回`TRUE`.要想区分,函数`is.nan(v)`只对`NaN`值返回`TRUE`.

## 对象的其他类型

- 矩阵(matrices)或者更一般的说`数组`是向量在多维情况下的一般形式.
- 因子(factors)提供一种处理分类数据的更简介的方式.
- 列表(list)是向量的一种一般形式,并不需要保证其中的元素都是相同的的类型,而且其中的元素经常是向量和列表本身.
- 数据框(data frames)是一种与矩阵相似的结构,其中的列可以是不同的数据类型.可以把数据框看作一种数据"矩阵",它的每行是一个观测单位,而且(可能)同时包含数值型和分类的变量.
- 函数(functions)是能够在R的workspace中存储的对象.

## 对象及它们的模式和属性

- R的对象类型包括数值型(numeric),复数型(comlex),逻辑型(logical),字符型(character),原味型(raw)
- 向量必须保证它的所有元素是一样的模式.
- 列表可以为任何模式的对象的有序序列,列表被认为是一种“递归”结构而不是原子结构因为它们的元素可以以它们各自的方式单独列出.
- 另外两种递归结构是函数(function)和表达式(expression).
- as.`something()`函数,主要用于对象模式的强制转换,或者赋于某个对象一些先前没有的功能.
- 读取和设置属性

  函数attributes(object) 给出对象当前定义的非内在属性(non-intrinsic at- tributes)的列表。函数attr(object, name) 可以用来选择特定的属性。

- R 里面的所有对象都属于一个类(class),可以通过函数class 查看。对于简 单的向量,就是对应的模式"numeric","logical","character" 或者"list",但 是"matrix","array","factor" 和"data.frame" 就可能是其他值。
- 用函数unclass() 临时去掉一个对象的类作用。

## 有序因子和无序因子

- 因子(factor)是一个对等长的其他向量元素进行分类(分组)的向量对象。 R 同时提供有序(ordered)和无序(unordered)因子。
- 函数levels() 可以用来得到因子的水平(levels)。

### 函数tapply() 和不规则数组

## 数组和矩阵

- 维度向量(dimension vector)是一个正整数向量。

### 向量和数组混合运算以及循环使用原则

- 表达式运算是从左到右进行的;
- 短的向量操作数将会被循环使用以达到其他操作数的长度;
- 有且只有短的向量和数组在一起,数组必须有一样的属性dim,否则返回一个错误;
- 向量操作数比矩阵或者数组操作数长时会引起错误;
- 如果数组结构给定,同时也没有关于向量的错误信息和强制转换操作,结果将是一个和它的数组操作数属性dim 一致的数组。
- 数组一个非常重要的运算就是外积运算(outer product)。外积是通过特别的操作符%o%实现.备选方案:`ab <- outer(a, b, "*")`,命令中的乘法操作符可以被任意一个双变量函数代替。

### 数组的广义转置,函数`aperm()`

### 矩阵工具

- 矩阵相乘,操作符%*% 用于矩阵相乘。
- 函数crossprod() 可以完成“矢积”(crossproduct)运算,也就是说crossprod(X,y) 和t(X) %*% y 等价,但是在运算上更为高效。如果crossprod() 第二个参数忽略 了,它将默认和第一个参数一样,即第一个参数和自己进行运算。

### 线性方程和求逆`solve()`

### 特征值和特征向量

函数eigen(Sm) 用来计算矩阵Sm 的特征值和特征向量。这个函数的返回值是一个含有values 和vectors 两个分量的列表。

### 奇异值分解和行列式

- 函数svd(M) 可以把任意一个矩阵M作为一个参数, 且对M 进行奇异值分解。
- R 有一个计算行列式(包括符号)的内置函数det 和另外一个给出符号和模(对数坐标可选)的函数。

### 最小二乘法拟合和QR分解

- 函数lsfit() 返回最小二乘法拟合(Least squares fitting)的结果列表。

### 用cbind() 和rbind() 构建分块矩阵

cbind() 把矩阵横向合并成一个大矩阵(列方式),而rbind() 是纵向合并(行方式).

### 对数组实现连接操作的函数c()

- 将一个数组强制转换成简单向量的标准方法是用函数as.vector()。

### 因子的频率表

函数table() 可以从等长的不同因子中计算出频率表。

## 列表和数据框

### 列表

- R 的列表(list)是一个以对象的有序集合构成的对象。列表中包含的对象又称为它的分量(components)。
- 通过函数list() 将已有的对象构建成列表。
- 当连接函数c() 的参数中有列表对象时,结果就是一个列表模式的对象。

### 数据框











